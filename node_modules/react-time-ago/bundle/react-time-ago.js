!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("javascript-time-ago")):"function"==typeof define&&define.amd?define(["react","prop-types","javascript-time-ago"],t):(e=e||self).ReactTimeAgo=t(e.React,e.PropTypes,e.TimeAgo)}(this,(function(e,t,n){"use strict";var r="default"in e?e.default:e,o="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||i(r)&&i(o)))return!1;var r,o;return!0}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function f(){return"object"===("undefined"==typeof Intl?"undefined":u(Intl))&&"function"==typeof Intl.DateTimeFormat}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return l(e,[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var u;if(i){if(a>=o.length)break;u=o[a++]}else{if((a=o.next()).done)break;u=a.value}var f=u;if("object"!==(void 0===e?"undefined":c(e)))return;e=e[f]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),o=t.pop(),i=this.cache,a=t,u=Array.isArray(a),f=0;for(a=u?a:a[Symbol.iterator]();;){var l;if(u){if(f>=a.length)break;l=a[f++]}else{if((f=a.next()).done)break;l=f.value}var s=l;"object"!==c(i[s])&&(i[s]={}),i=i[s]}return i[o]=r}}]),e}(),p=new s,m=f(),d=function(e){return e.toString()};var y=function(e,t){void 0===t&&(t=a);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}((function(e,t){if(!m)return d;var n=function(e){var t=e.toString();if(v[t])return v[t];return v[t]=function(e){if(f())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}(e)}(e),r=JSON.stringify(t),o=p.get(String(n),r)||p.put(String(n),r,new Intl.DateTimeFormat(n,t));return function(e){return o.format(e)}})),v={};var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function h(e){return(t=e)instanceof Date||function(e){return"object"===(void 0===e?"undefined":b(e))&&"function"==typeof e.getTime}(t)?e:new Date(e);var t}var g=new s;var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var T=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){(function(){var t,n,r,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(w)})),O="undefined"==typeof window?w:window,S=["moz","webkit"],x="AnimationFrame",D=O["request"+x],k=O["cancel"+x]||O["cancelRequest"+x],R=0;!D&&R<S.length;R++)D=O[S[R]+"Request"+x],k=O[S[R]+"Cancel"+x]||O[S[R]+"CancelRequest"+x];if(!D||!k){var q=0,A=0,j=[];D=function(e){if(0===j.length){var t=T(),n=Math.max(0,1e3/60-(t-q));q=n+t,setTimeout((function(){var e=j.slice(0);j.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(q)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return j.push({handle:++A,callback:e,cancelled:!1}),A},k=function(e){for(var t=0;t<j.length;t++)j[t].handle===e&&(j[t].cancelled=!0)}}var I=function(e){return D.call(O,e)};I.cancel=function(){k.apply(O,arguments)},I.polyfill=function(e){e||(e=O),e.requestAnimationFrame=D,e.cancelAnimationFrame=k};var P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},F={instances:[],add:function(e){var t=this,n=0===this.instances.length;return N(this.instances,e),n&&this.start(),{stop:function(){U(t.instances,e),0===t.instances.length&&t.stop()},forceUpdate:function(){M(e,t.instances)}}},tick:function(){for(var e=Date.now();;){var t=this.instances[0];if(!(e>=t.nextUpdateTime))break;M(t,this.instances)}},scheduleNextTick:function(){var e=this;this.scheduledTick=I((function(){e.tick(),e.scheduleNextTick()}))},start:function(){this.scheduleNextTick()},stop:function(){I.cancel(this.scheduledTick)}};function M(e,t){!function(e){var t=e.getNextValue(),n=P(t,2),r=n[0],o=n[1];e.setValue(r),e.nextUpdateTime=o}(e),U(t,e),N(t,e)}function N(e,t){var n=function(e,t){var n=t.nextUpdateTime;return function(e,t){if(0===e.length)return 0;for(var n=0,r=e.length-1,o=void 0;n<=r;){var i=t(e[o=Math.floor((r+n)/2)]);if(0===i)return o;if(i<0){if((n=o+1)>r)return n}else if((r=o-1)<n)return n}}(e,(function(e){return e.nextUpdateTime===n?0:e.nextUpdateTime>n?1:-1}))}(e,t);e.splice(n,0,t)}function U(e,t){var n=e.indexOf(t);e.splice(n,1)}var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(t,n){var o=t.date,i=t.verboseDate,a=t.tooltip,u=t.children,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["date","verboseDate","tooltip","children"]),c=e.useMemo((function(){return o.toISOString()}),[o]);return r.createElement("time",E({ref:n},f,{dateTime:c,title:a?i:void 0}),u)}(C=r.forwardRef(C)).propTypes={date:o.instanceOf(Date).isRequired,verboseDate:o.string,tooltip:o.bool.isRequired,children:o.string.isRequired};var V=t.oneOfType([t.shape({minTime:t.number,formatAs:t.string.isRequired}),t.shape({test:t.func,formatAs:t.string.isRequired}),t.shape({minTime:t.number,format:t.func.isRequired}),t.shape({test:t.func,format:t.func.isRequired})]),L=t.oneOfType([t.string,t.shape({steps:t.arrayOf(V).isRequired,labels:t.oneOfType([t.string,t.arrayOf(t.string)]).isRequired,round:t.string})]),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function B(t){var o=t.date,i=t.future,a=t.timeStyle,u=t.round,f=t.minTimeLeft,c=t.tooltip,l=t.component,s=t.container,p=t.wrapperComponent,m=t.wrapperProps,d=t.locale,v=t.locales,b=t.formatVerboseDate,w=t.verboseDateFormat,T=t.updateInterval,O=t.tick,S=t.now,x=t.timeOffset,D=t.polyfill,k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["date","future","timeStyle","round","minTimeLeft","tooltip","component","container","wrapperComponent","wrapperProps","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick","now","timeOffset","polyfill"]),R=e.useMemo((function(){return d&&(v=[d]),v.concat(n.getDefaultLocale())}),[d,v]),q=e.useMemo((function(){return function(e,t){var r=t.polyfill,o=String(e)+":"+String(r);return g.get(o)||g.put(o,new n(e,{polyfill:r}))}(R,{polyfill:D})}),[R,D]);o=e.useMemo((function(){return h(o)}),[o]);var A=e.useCallback((function(){var e=(S||Date.now())-x,t=void 0;if(i&&e>=o.getTime()&&(e=o.getTime(),t=!0),void 0!==f){var n=o.getTime()-1e3*f;e>n&&(e=n,t=!0)}var r=q.format(o,a,{getTimeToNextUpdate:!0,now:e,future:i,round:u}),c=J(r,2),l=c[0],s=c[1];return[l,e+(s=t?G:T||s||6e4)]}),[o,i,a,T,u,f,q,S]),j=e.useRef();j.current=A;var I=e.useMemo(A,[]),P=J(I,2),M=P[0],N=P[1],U=e.useState(M),E=J(U,2),C=E[0],V=E[1],L=e.useRef();e.useEffect((function(){if(O)return L.current=F.add({getNextValue:function(){return j.current()},setValue:V,nextUpdateTime:N}),function(){return L.current.stop()}}),[O]),e.useEffect((function(){if(L.current)L.current.forceUpdate();else{var e=A(),t=J(e,1)[0];V(t)}}),[A]);var B=e.useMemo((function(){return y(R,w)}),[R,w]),H=e.useMemo((function(){return b?b(o):B(o)}),[o,b,B]),K=r.createElement(l,z({date:o,verboseDate:H,tooltip:c},k),C),Q=p||s;return Q?r.createElement(Q,z({},m,{verboseDate:H}),K):K}B.propTypes={date:o.oneOfType([o.instanceOf(Date),o.number]).isRequired,locale:o.string,locales:o.arrayOf(o.string),future:o.bool,timeStyle:L,round:o.string,minTimeLeft:o.number,component:o.elementType.isRequired,tooltip:o.bool.isRequired,formatVerboseDate:o.func,verboseDateFormat:o.object,updateInterval:o.oneOfType([o.number,o.arrayOf(o.shape({threshold:o.number,interval:o.number.isRequired}))]),tick:o.bool,now:o.number,timeOffset:o.number,polyfill:o.bool,wrapperComponent:o.elementType,wrapperProps:o.object},B.defaultProps={locales:[],component:C,tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},tick:!0,timeOffset:0},B=r.memo(B);var G=31536e9;return B}));
//# sourceMappingURL=react-time-ago.js.map
